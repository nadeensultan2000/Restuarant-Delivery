{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../search.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction YourDataComponent_tr_49_p_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r2.price * item_r2.quantity, \"$\");\n  }\n}\nfunction YourDataComponent_tr_49_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 17)(8, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function YourDataComponent_tr_49_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const index_r3 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.Minus(index_r3));\n    });\n    i0.ɵɵtext(9, \" - \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function YourDataComponent_tr_49_Template_input_ngModelChange_10_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const item_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(item_r2.quantity = $event);\n    })(\"change\", function YourDataComponent_tr_49_Template_input_change_10_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.UpdateOrderTotal());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function YourDataComponent_tr_49_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const index_r3 = restoredCtx.index;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.Plus(index_r3));\n    });\n    i0.ɵɵtext(12, \" + \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtemplate(14, YourDataComponent_tr_49_p_14_Template, 2, 1, \"p\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"div\", 20);\n    i0.ɵɵlistener(\"click\", function YourDataComponent_tr_49_Template_div_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const index_r3 = restoredCtx.index;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.DeleteItem(index_r3));\n    });\n    i0.ɵɵtext(17, \"x\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.price);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", item_r2.quantity);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", item_r2.quantity != null);\n  }\n}\nfunction YourDataComponent_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"strong\");\n    i0.ɵɵtext(2, \"Well Done! \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"Your Order Will Successfully Send\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let YourDataComponent = /*#__PURE__*/(() => {\n  class YourDataComponent {\n    GoBack() {\n      this.location.back();\n    }\n    constructor(router, service, location) {\n      this.router = router;\n      this.service = service;\n      this.location = location;\n      this.success = false;\n      const navigation = this.router.getCurrentNavigation();\n      if (navigation?.extras.state) {\n        this.order = navigation.extras.state['order'];\n        console.log(this.order); // Check the order object in the console\n      }\n    }\n\n    ngOnInit() {\n      this.SetQuantityOne(1);\n      this.UpdateOrderTotal();\n    }\n    UpdateOrderTotal() {\n      this.total = 0;\n      for (let x in this.order.items) {\n        this.total += this.order.items[x].price * this.order.items[x].quantity;\n      }\n      console.log(this.total);\n    }\n    DeleteItem(index) {\n      this.order.items.splice(index, 1);\n      this.UpdateOrderTotal();\n    }\n    Minus(index) {\n      if (this.order.items[index].quantity > 1) {\n        this.order.items[index].quantity--;\n        this.UpdateOrderTotal();\n      }\n    }\n    Plus(index) {\n      this.order.items[index].quantity++;\n      this.UpdateOrderTotal();\n      console.log(this.order.items[index].quantity);\n    }\n    SetQuantityOne(quantity) {\n      for (let item in this.order.items) {\n        this.order.items[item].quantity = 1;\n      }\n    }\n    AddOrder() {\n      this.UpdateOrderTotal();\n      let items = this.order.items.map(item => {\n        return {\n          itemId: item.id,\n          itemName: item.name,\n          quantity: item.quantity,\n          price: item.price * item.quantity\n        };\n      });\n      let Model = {\n        userName: this.order.customerName,\n        phone: this.order.customerPhone,\n        email: this.order.customerEmail,\n        address: this.order.customerAddress,\n        total: this.total,\n        itemsOrderdto: items\n      };\n      console.log(Model);\n      this.service.CreateNewOrder(Model).subscribe(data => {});\n      this.success = true;\n      alert(\"Well Done Your Order Will Secessfully Arrive Soon \");\n      if (this.success) {\n        this.router.navigate(['/search']);\n      }\n      console.log(this.success);\n    }\n    static {\n      this.ɵfac = function YourDataComponent_Factory(t) {\n        return new (t || YourDataComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.SearchService), i0.ɵɵdirectiveInject(i3.Location));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: YourDataComponent,\n        selectors: [[\"app-your-data\"]],\n        decls: 71,\n        vars: 8,\n        consts: [[1, \"All-Container\"], [\"id\", \"title\"], [1, \"user-data-container\"], [1, \"user-data-item\"], [1, \"icon\"], [1, \"fa-solid\", \"fa-user\", 2, \"color\", \"#FFD43B\"], [1, \"data-name\"], [1, \"fa-solid\", \"fa-phone\", 2, \"color\", \"#FFD43B\"], [1, \"fa-regular\", \"fa-envelope\", 2, \"color\", \"#FFD43B\"], [1, \"fa-solid\", \"fa-location-dot\", 2, \"color\", \"#FFD43B\"], [\"id\", \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"Total-Container\"], [1, \"Sub-Container\"], [3, \"click\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [\"src\", \"https://th.bing.com/th/id/R.1a32300a1f3d69708d49b08c6eb89693?rik=lt4UftWfwKgojw&pid=ImgRaw&r=0\", \"alt\", \"\"], [\"let\", \"\", \"item.quantity\", \"1\"], [\"min\", \"1\", \"max\", \"100\", \"type\", \"number\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [4, \"ngIf\"], [\"title\", \"Delete Product\", 1, \"delete-btn\", 3, \"click\"], [1, \"alert\", \"alert-success\"]],\n        template: function YourDataComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n            i0.ɵɵtext(3, \"YOUR DATA\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(4, \"div\", 2)(5, \"div\", 3)(6, \"div\", 4);\n            i0.ɵɵelement(7, \"i\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"div\")(9, \"div\", 6);\n            i0.ɵɵtext(10, \"Name\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"p\");\n            i0.ɵɵtext(12);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(13, \"div\", 3)(14, \"div\", 4);\n            i0.ɵɵelement(15, \"i\", 7);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\")(17, \"div\", 6);\n            i0.ɵɵtext(18, \"Phone\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(19, \"p\");\n            i0.ɵɵtext(20);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(21, \"div\", 3)(22, \"div\", 4);\n            i0.ɵɵelement(23, \"i\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"div\")(25, \"div\", 6);\n            i0.ɵɵtext(26, \"Email\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"p\");\n            i0.ɵɵtext(28);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(29, \"div\", 3)(30, \"div\", 4);\n            i0.ɵɵelement(31, \"i\", 9);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"div\")(33, \"div\", 6);\n            i0.ɵɵtext(34, \"Address\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(35, \"p\");\n            i0.ɵɵtext(36);\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(37, \"table\", 10)(38, \"tr\");\n            i0.ɵɵelement(39, \"th\");\n            i0.ɵɵelementStart(40, \"th\");\n            i0.ɵɵtext(41, \"PRODUCT\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(42, \"th\");\n            i0.ɵɵtext(43, \"PRICE\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(44, \"th\");\n            i0.ɵɵtext(45, \"QUANTITY\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(46, \"th\");\n            i0.ɵɵtext(47, \"TOTAL\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(48, \"th\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(49, YourDataComponent_tr_49_Template, 18, 4, \"tr\", 11);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(50, \"br\")(51, \"br\");\n            i0.ɵɵelementStart(52, \"div\", 12)(53, \"div\", 13)(54, \"h3\");\n            i0.ɵɵtext(55, \"Total\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(56, \"h4\");\n            i0.ɵɵtext(57);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(58, \"hr\");\n            i0.ɵɵelementStart(59, \"div\", 13)(60, \"h4\");\n            i0.ɵɵtext(61, \"SubTotal\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(62, \"h4\");\n            i0.ɵɵtext(63);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(64, \"hr\");\n            i0.ɵɵelementStart(65, \"div\", 13)(66, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function YourDataComponent_Template_button_click_66_listener() {\n              return ctx.GoBack();\n            });\n            i0.ɵɵtext(67, \"BACK\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(68, \"button\", 14);\n            i0.ɵɵlistener(\"click\", function YourDataComponent_Template_button_click_68_listener() {\n              return ctx.AddOrder();\n            });\n            i0.ɵɵtext(69, \"CHECKOUT\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵtemplate(70, YourDataComponent_div_70_Template, 4, 0, \"div\", 15);\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(12);\n            i0.ɵɵtextInterpolate(ctx.order.customerName);\n            i0.ɵɵadvance(8);\n            i0.ɵɵtextInterpolate(ctx.order.customerPhone);\n            i0.ɵɵadvance(8);\n            i0.ɵɵtextInterpolate(ctx.order.customerEmail);\n            i0.ɵɵadvance(8);\n            i0.ɵɵtextInterpolate(ctx.order.customerAddress);\n            i0.ɵɵadvance(13);\n            i0.ɵɵproperty(\"ngForOf\", ctx.order.items);\n            i0.ɵɵadvance(8);\n            i0.ɵɵtextInterpolate1(\"\", ctx.total, \" $\");\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate1(\"\", ctx.total, \" $\");\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngIf\", ctx.success == true);\n          }\n        },\n        dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.MinValidator, i4.MaxValidator, i4.NgModel],\n        styles: [\".All-Container[_ngcontent-%COMP%]{margin:2%}H2[_ngcontent-%COMP%]{border-bottom:2px #ffc700 solid;max-width:max-content;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif}.user-data-container[_ngcontent-%COMP%]{display:flex}.user-data-item[_ngcontent-%COMP%]{display:flex;padding:10px;justify-content:space-around}.icon[_ngcontent-%COMP%]{padding:0 5px}.data-name[_ngcontent-%COMP%]{font-weight:bolder}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px rgb(178,162,162) solid}table[_ngcontent-%COMP%]{width:75%;border-collapse:collapse}tr[_ngcontent-%COMP%]{padding:0}td[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;max-width:50px;max-height:50px}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:1px rgb(193,185,185) solid}td[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ffc700}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;align-content:center}.QUANTITY[_ngcontent-%COMP%]{display:flex}.delete-btn[_ngcontent-%COMP%]{border:1px white solid;background-color:#fff;color:#ffc700;cursor:pointer}.Total-Container[_ngcontent-%COMP%]{border:1px rgb(160,150,150) solid;padding:10px;align-items:center;width:70%;margin:2px}.Sub-Container[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;justify-content:space-between;align-self:flex-end}.Sub-Container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px rgb(229,222,222) solid;background-color:#ffc700;padding:9px}\"]\n      });\n    }\n  }\n  return YourDataComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}